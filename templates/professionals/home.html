
{% extends 'layout.html' %}

{% block content %}

    <div class="container">
        <h1 class="text-center">Hello Pro</h1>

        

      
<!-- Service Requests Table -->
<h2>Past Service Requests</h2>
<div class="table-responsive">
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>service_id</th>
                <th>customer_id</th>
                <th>professional_id</th>
                <th>date_of_request</th>
                <th>date_of_completion</th>
                <th>service_status</th>
                <th>Remarks</th>
                <th>payment</th>
            </tr>
        </thead>
        <tbody>
            {% for request in service_requests %}
                <tr>
                    <td>{{ request.service_id }}</td>
                    <td>{{ request.customer_id }}</td>
                    <td>{{ request.professional_id}}</td>
                    <td>{{ request.date_of_request  }}</td>
                    <td>{{ request.date_of_completion }}</td>
                    <td>{{ request.service_status }}</td>
                    <td>{{ request.remarks }}</td>
                    <td>{{ request.payment }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

        <!-- Service Requests Table -->
<h2>Past Service Requests</h2>
<div class="table-responsive">
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>service_id</th>
                <th>customer_id</th>
                <th>professional_id</th>
                <th>date_of_request</th>
                <th>date_of_completion</th>
                <th>service_status</th>
                <th>Remarks</th>
                <th>payment</th>
            </tr>
        </thead>
        <tbody>
            {% for request in service_requests %}
                <tr>
                    <td>{{ request.service_id }}</td>
                    <td>{{ request.customer_id }}</td>
                    <td>{{ request.professional_id}}</td>
                    <td>{{ request.date_of_request  }}</td>
                    <td>{{ request.date_of_completion }}</td>
                    <td>{{ request.service_status }}</td>
                    <td>{{ request.remarks }}</td>
                    <td>{{ request.payment }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
        
    </div>

    {% endblock %}
    {% block scripts %}
    <script>
        // When the Edit button is clicked, populate the modal with the current row's data
        var editButtons = document.querySelectorAll('[data-bs-toggle="modal"][data-bs-target="#newServiceModal"]');
        editButtons.forEach(function(button) {
            button.addEventListener('click', function () {
                // Get data attributes
                var serviceId = button.getAttribute('data-service-id');
                var serviceName = button.getAttribute('data-service-name');
                var serviceDescription = button.getAttribute('data-service-description');
                var serviceBasePrice = button.getAttribute('data-service-base-price');
                var serviceTimeRequired = button.getAttribute('data-service-time-required');
    
                // Set values in the modal
                document.getElementById('serviceId').value = serviceId;
                document.getElementById('serviceName').value = serviceName;
                document.getElementById('serviceDescription').value = serviceDescription;
                document.getElementById('basePrice').value = serviceBasePrice;
                document.getElementById('timeRequired').value = serviceTimeRequired;
            });
        });
    </script>
    {% endblock %}
    